<!DOCTYPE html>
<html>
	<head>
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<title></title>
		<style type="text/css">
			.img-item {
				width: 200px;
				height: 160px;
				border-radius: 20px;
				overflow: hidden;
			}

			.img-item img {
				width: 100%;
				height: 100%;
			}
			
			.title {
				line-height: 30px;
				font-size: 30px;
				text-align: center;
			}
			
			.imgs-container {
				margin-top: 20px;
			}
		</style>
		<!-- 引入样式 -->
		<link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
		<script src="src/js/jquery.min.js"></script>
		<script src="src/js/clipboard.min.js"></script>
		<script>
			$(function() {
				new ClipboardJS('.btn');
			})
		</script>
	</head>
	<body>
		<div id="app">
			<div class="title">博客图片</div>
			<div class="imgs-container">
				<div @click="copy(item)" v-for="(item, index) in images" class="img-item">
					<img :src="item" alt="">
				</div>
			</div>
		</div>
	</body>

	<script src="src/js/vue.js"></script>	
	<!-- 引入组件库 -->
	<script src="https://unpkg.com/element-ui/lib/index.js"></script>
	<script>
		var app = new Vue({
			el: '#app',
			data: {
				images: []
			},
			mounted: function() {
				this.createImgs();
			},
			methods: {
				createImgs() {
					let totalImgsCount = 9;
					let imageUrls = [];
					for (let i = 0; i < totalImgsCount; i++) {
						imageUrls.push(`src/images/${i + 1}.jpg`);
					}
					this.images = imageUrls;
				},
				copy(item) {
					let that = this;
					var clipboard = new ClipboardJS(".img-item", {
						text: function(trigger) {
							return 'https://shanguagua.github.io/Blogs/BlogImgs/' + item;
						}
					});
					clipboard.on("success", e => {
						// 复制成功，释放内存
						clipboard.destroy();
						that.$message({
						  message: '复制成功：' +'https://shanguagua.github.io/Blogs/BlogImgs/'+ item,
						  type: 'success'
						});
					});
					clipboard.on("error", e => {
						// 不支持复制
						console.log("该浏览器不支持自动复制");
						// 释放内存
						clipboard.destroy();
					});
				}
			}
		})
	</script>
</html>
